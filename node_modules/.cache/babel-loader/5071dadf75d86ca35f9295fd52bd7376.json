{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _asyncToGenerator from\"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/regenerator/index.js\";import{Center,Heading,Text}from\"@chakra-ui/react\";import{useContext,useEffect,useState}from\"react\";import Panel from\"../components/Panel\";import{SunkenInput,SunkenTextArea}from\"../components/SunkenInput\";import{WidthContainer}from\"../components/WidthContainer\";import TypeAnimation from\"react-type-animation\";import useKeyPress from\"../components/useKeyPress\";import{useNavigate}from\"react-router-dom\";import{Web3Context}from\"../contexts/Web3Context\";import ComputerModel from\"../components/RoomScene/ComputerModel\";import VertArrowScrollList from\"../components/VertArrowScrollList\";import ScrollListItem from\"../components/ScrollListItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function isUsedNft(_ref){var cyberDeckNfts=_ref.cyberDeckNfts,address=_ref.address,tokenId=_ref.tokenId;var _iterator=_createForOfIteratorHelper(cyberDeckNfts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(c.tokenData.parentTokenAddress===address&&c.tokenData.parentTokenId.toString()===tokenId.toString()){return true;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;}function filterNFTS(_ref2){var cyberDeckNfts=_ref2.cyberDeckNfts,allowedNfts=_ref2.allowedNfts;var nonUsed=[];var _iterator2=_createForOfIteratorHelper(allowedNfts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var a=_step2.value;var tokenId=a.tokenId,address=a.address;var isUsed=isUsedNft({cyberDeckNfts:cyberDeckNfts,address:address,tokenId:tokenId});if(!isUsed){nonUsed.push(a);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return nonUsed;}export default function Mint(){var _useContext=useContext(Web3Context),mintNFTHandler=_useContext.mintNFTHandler,ownedAllowedNfts=_useContext.ownedAllowedNfts,ownedTokens=_useContext.ownedTokens;var navigate=useNavigate();var mKey=useKeyPress(\"m\");var _useContext2=useContext(Web3Context),account=_useContext2.account;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tweetMessage=_useState2[0],setTweetMessage=_useState2[1];var _useState3=useState(ownedAllowedNfts[0]),_useState4=_slicedToArray(_useState3,2),selection=_useState4[0],setSelection=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),currentlyMinting=_useState6[0],setCurrentlyMinting=_useState6[1];var _useState7=useState(filterNFTS({cyberDeckNfts:ownedTokens,allowedNfts:ownedAllowedNfts})),_useState8=_slicedToArray(_useState7,2),nonUsedNFTs=_useState8[0],setNonUsedNFTS=_useState8[1];function mint(){return _mint.apply(this,arguments);}function _mint(){_mint=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(ownedAllowedNfts.length>0){setCurrentlyMinting(true);mintNFTHandler({tokenAddress:selection.address,tokenId:selection.tokenId});setCurrentlyMinting(false);}case 1:case\"end\":return _context.stop();}}},_callee);}));return _mint.apply(this,arguments);}useEffect(function(){if(mKey){if(!currentlyMinting){mint();}}},[mKey]);useEffect(function(){setNonUsedNFTS(filterNFTS({cyberDeckNfts:ownedTokens,allowedNfts:ownedAllowedNfts}));},[ownedTokens,ownedAllowedNfts]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(WidthContainer,{children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"left\"},children:/*#__PURE__*/_jsx(\"pre\",{children:/*#__PURE__*/_jsxs(\"output\",{children:[/*#__PURE__*/_jsx(TypeAnimation,{cursor:false,sequence:[\"LFG CyberDeck\"],wrapper:\"h2\"}),/*#__PURE__*/_jsx(TypeAnimation,{cursor:false,sequence:[account],wrapper:\"p\"}),/*#__PURE__*/_jsx(TypeAnimation,{cursor:false,sequence:[\" \"],wrapper:\"p\"}),/*#__PURE__*/_jsx(TypeAnimation,{cursor:false,sequence:[500,\"Mint your own CyberDeck to gain access to Web3 through your legacy NFT.\"],wrapper:\"p\"}),/*#__PURE__*/_jsx(ComputerModel,{}),/*#__PURE__*/_jsx(TypeAnimation,{cursor:false,sequence:[\"Press 'M' to Mint a 1,000 ETH CyberDeck for \".concat(selection.name,\" #\").concat(selection.tokenId)],wrapper:\"p\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Valid NFT's (\".concat(nonUsedNFTs.length,\") - Use W and S to navigate\")}),/*#__PURE__*/_jsx(VertArrowScrollList,{items:nonUsedNFTs,ListItemComponent:ScrollListItem,setSelection:setSelection})]})})})})});}function SelectionStage(_ref3){_objectDestructuringEmpty(_ref3);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(VertArrowScrollList,{})});}","map":null,"metadata":{},"sourceType":"module"}