{"ast":null,"code":"import _classCallCheck from \"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/robertrinearson/Documents/blockchain/lfg/cyberdeck-twitter/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Earcut } from './Earcut.js';\n\nvar ShapeUtils = /*#__PURE__*/function () {\n  function ShapeUtils() {\n    _classCallCheck(this, ShapeUtils);\n  }\n\n  _createClass(ShapeUtils, null, [{\n    key: \"area\",\n    value: // calculate area of the contour polygon\n    function area(contour) {\n      var n = contour.length;\n      var a = 0.0;\n\n      for (var p = n - 1, q = 0; q < n; p = q++) {\n        a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n      }\n\n      return a * 0.5;\n    }\n  }, {\n    key: \"isClockWise\",\n    value: function isClockWise(pts) {\n      return ShapeUtils.area(pts) < 0;\n    }\n  }, {\n    key: \"triangulateShape\",\n    value: function triangulateShape(contour, holes) {\n      var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n      var holeIndices = []; // array of hole indices\n\n      var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n      removeDupEndPts(contour);\n      addContour(vertices, contour); //\n\n      var holeIndex = contour.length;\n      holes.forEach(removeDupEndPts);\n\n      for (var i = 0; i < holes.length; i++) {\n        holeIndices.push(holeIndex);\n        holeIndex += holes[i].length;\n        addContour(vertices, holes[i]);\n      } //\n\n\n      var triangles = Earcut.triangulate(vertices, holeIndices); //\n\n      for (var _i = 0; _i < triangles.length; _i += 3) {\n        faces.push(triangles.slice(_i, _i + 3));\n      }\n\n      return faces;\n    }\n  }]);\n\n  return ShapeUtils;\n}();\n\nfunction removeDupEndPts(points) {\n  var l = points.length;\n\n  if (l > 2 && points[l - 1].equals(points[0])) {\n    points.pop();\n  }\n}\n\nfunction addContour(vertices, contour) {\n  for (var i = 0; i < contour.length; i++) {\n    vertices.push(contour[i].x);\n    vertices.push(contour[i].y);\n  }\n}\n\nexport { ShapeUtils };","map":null,"metadata":{},"sourceType":"module"}